<div class="ai-container">
  <h2>ðŸ’¡ Let AI Help You Choose Your Fragrance</h2>

  <!-- ØªØ­Ù…ÙŠÙ„ -->
  <div *ngIf="isLoading" class="loading">ðŸ”„ Generating your personalized fragrance...</div>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬Ù†Ø³ -->
  <div *ngIf="stage === 'gender'" class="step-box">
    <p class="step-title">Please select your gender to begin:</p>
    <button class="gender-btn" (click)="selectGender('male')">ðŸ‘¨ Male</button>
    <button class="gender-btn" (click)="selectGender('female')">ðŸ‘© Female</button>
  </div>

  <!-- Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
  <div *ngIf="stage === 'questions'" class="step-box">
    <form (ngSubmit)="submitAnswers()">
      <div *ngFor="let q of questions; let i = index" class="question-card">
        <p><strong>Q{{ i + 1 }}: {{ q.question }}</strong></p>
        <div class="options">
          <label *ngFor="let opt of q.options" class="option-label">
            <input type="radio" name="q{{ i }}" [value]="opt" (change)="selectOption(i, opt)" required>
            {{ opt }}
          </label>
        </div>
      </div>
      <button type="submit" class="submit-btn">âœ… Submit Answers</button>
    </form>
  </div>

  <!-- ðŸŒŸ Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø·Ø± Ø¯Ø§Ø®Ù„ Popup -->
  <!-- âœ… Popup Ù…Ø®ØµØµ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ -->
  <div *ngIf="stage === 'result'" class="ai-popup-success">
    <div class="popup-card">
      <h2>ðŸŽ‰ Perfume Created Successfully!</h2>
      <p class="perfume-name">{{ resultPerfume.name }}</p>

      <p class="perfume-desc">
        {{ resultPerfume.description }}
      </p>

      <button class="go-to-cart-btn" (click)="goToCart()">ðŸ›’ View Cart</button>
    </div>
  </div>
